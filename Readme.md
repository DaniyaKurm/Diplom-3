**Дипломный проект по профессии «Тестировщик»**

1. **ЗАДАНИЕ**

Дипломный проект — автоматизация тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

**Описание приложения**

**Бизнес-часть**

Приложение — это веб-сервис, который предлагает купить тур по определённой цене двумя способами:

1. Обычная оплата по дебетовой карте.
1. Уникальная технология: выдача кредита по данным банковской карты.

![alt text](https://github.com/netology-code/qa-diploma/blob/master/pic/service.png)

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

- сервису платежей, далее Payment Gate;
- кредитному сервису, далее Credit Gate.

Приложение в собственной СУБД должно сохранять информацию о том, успешно ли был совершён платёж и каким способом. Данные карт при этом сохранять не допускается.

*Важно: в реальной жизни приложение не должно пропускать через себя данные карт, если у него нет PCI DSS, но мы сделали именно так ;)*

**Техническая часть**

Само приложение расположено в файле [aqa-shop.jar](https://github.com/netology-code/qa-diploma/blob/master/aqa-shop.jar) и запускается стандартным способом java -jar aqa-shop.jar на порту 8080.

В файле [application.properties](https://github.com/netology-code/qa-diploma/blob/master/application.properties) приведён ряд типовых настроек:

- учётные данные и URL для подключения к СУБД;
- URL-адреса банковских сервисов.

**СУБД**

Заявлена поддержка двух СУБД. Вы должны это проверить:

- MySQL;
- PostgreSQL.

Учётные данные и URL для подключения задаются в файле [application.properties](https://github.com/netology-code/qa-diploma/blob/master/application.properties).

**Банковские сервисы**

Доступ к реальным банковским сервисам не даётся, поэтому разработчики подготовили для вас эмулятор банковских сервисов, который может принимать запросы в нужном формате и генерировать ответы.

Эмулятор написан на Node.js, для его запуска рекомендуется использовать Docker. Эмулятор расположен в каталоге [gate-simulator](https://github.com/netology-code/qa-diploma/blob/master/gate-simulator).

Эмулятор запускается командой npm start на порту 9999. Он позволяет генерировать предопределённые ответы для заданного набора карт. Набор карт представлен в формате JSON в файле [data.json](https://github.com/netology-code/qa-diploma/blob/master/gate-simulator/data.json).

Обратите внимание: разработчики сделали один сервис, эмулирующий и Payment Gate, и Credit Gate.

**Для формирования окружения рекомендуем запустить три контейнера: c MySQL, с PostgreSQL и эмулятором банковских сервисов. Все три контейнера будет удобным описать в одном файле docker-compose.yml и запускать одновременно.**

**Задача**

Ваша ключевая задача — автоматизировать позитивные и негативные сценарии покупки тура.

Задача разбита на 4 этапа:

1. Планирование автоматизации тестирования.
1. Непосредственно сама автоматизация.
1. Подготовка отчётных документов по итогам автоматизированного тестирования.
1. Подготовка отчётных документов по итогам автоматизации.

Все материалы — документы, авто-тесты, открытые issue, отчёты и другие — должны быть размещены в одном публичном репозитории. Ссылку на него вы будете отправлять дипломному руководителю.

**Планирование**

В течение трёх дней с начала работы над дипломом вы должны отправить дипломному руководителю личным сообщением в Discord план автоматизации, в котором описаны:

- перечень автоматизируемых сценариев;
- перечень используемых инструментов с обоснованием выбора;
- перечень и описание возможных рисков при автоматизации;
- интервальная оценка с учётом рисков в часах;
- план сдачи работ: когда будут готовы автотесты, результаты их прогона;
- отчёт по автоматизации: оформляется в виде файла с именем Plan.md и заливается в репозиторий вашего проекта.

**Автоматизация**

На этом этапе вы пишете автотесты и прогоняете их. Требований по подключению CI нет, но есть требования к тестам. Обязательно должны быть:

- UI-тесты;
- репорты — Gradle, Allure, Report Portal;
- запросы в базу, проверяющие корректность внесения информации приложением.

Код автотестов загружается в репозиторий вашего проекта вместе с отчётными документами, файлами и конфигурациями, необходимыми для запуска.

В файле README.md должна быть описана процедура запуска автотестов. Если для запуска нужно заранее установить, настроить, запустить какое-то ПО, то это тоже должно быть описано.

**Важно: если после git clone и выполнения шагов, описанных в README.md, авто-тесты не запускаются, то диплом отправляется на доработку.**

**Отчётные документы по итогам тестирования**

В качестве отчётных документов прикладываются issue со скриншотами и описанием багов, формируется документ Report.md, в котором содержится отчёт о проведённом тестировании:

- краткое описание;
- количество тест-кейсов;
- процент успешных и не успешных тест-кейсов;
- общие рекомендации.

Не забудьте, что помимо документа в систему автоматизации должны быть интегрированы отчёты: Gradle, Allure или Report Portal.

**Отчётные документы по итогам автоматизации**

В качестве отчётных документов формируется документ Summary.md, в котором содержится отчёт о проведённой автоматизации:

- что было запланировано и что реализовано;
- причины, по которым что-то не было реализовано;
- сработавшие риски;
- общий итог по времени: сколько запланировали и сколько выполнили с обоснованием расхождения.
1. **План автоматизации тестирования**

**Планирование автоматизации тестирования.**

**Перечень автоматизируемых сценариев.**

*Два варианта покупки тура:*

1. Обычная оплата по дебетовой карте.
1. Уникальная технология: выдача кредита по данным банковской карты.

*Карты, представленные для тестирования (файл data.json):*

- 4444 4444 4444 4441, status APPROVED
- 4444 4444 4444 4442, status DECLINED

*Тестируемые СУБД:*

- MySQL;
- PostgreSQL.

Валидными данными при заполнении полей ввода будут считаться:

1. Номер карты: 16 цифровых символов, в формате \*\*\*\* \*\*\*\* \*\*\*\* \*\*\*\*
1. Месяц: числовое значение от 01 до 12, но не ранее текущего месяца в случае, если указан текущий год
1. Год: двузначное числовое значение (последние две цифры года, но не ранее текущего года и не позднее +5 лет от текущего года)
1. Владелец: имя-фамилия, буквенные символы на латинице
1. CVC: три цифровых символа

**Тестовые сценарии Условия:**

Открыть главную страницу <http://localhost:8080/>

![alt text](https://github.com/netology-code/qa-diploma/blob/master/pic/service.png)

***Позитивные сценарии:***

*1. Оплата по дебетовой карте со статусом APPROVED*

- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" - 4444 4444 4444 4441
- Ввести в поле "Месяц" валидное значение, число от 01 до 12
- Ввести в поле "Год" валидное значение, последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается окно с сообщением: "Операция одобрена Банком".

*2. Оплата по дебетовой карте со статусом DECLINED:*

- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" - 4444 4444 4444 4442
- Ввести в поле "Месяц" число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается окно с сообщением: "Ошибка! Банк отказал в проведении операции".

*3. Покупка тура в кредит по данным карты со статусом APPROVED:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" - 4444 4444 4444 4441
- Ввести в поле "Месяц" число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается окно с сообщением "Операция одобрена Банком".

*4. Покупка тура в кредит по данным карты со статусом DECLINED:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" - 4444 4444 4444 4442
- Ввести в поле "Месяц" число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается окно с сообщением: "Ошибка! Банк отказал в проведении операции".

***Негативные сценарии.***

*1. Оплата с невалидным номером карты, ввод 15 цифровых символов:*

- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" - 4444 4444 4444 444
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «Номер карты». Форма не отправлена.

*2. Оплата с невалидным номером карты, поле не заполнено:*

- Нажать кнопку "Купить"
- Оставить поле "Номер карты" незаполненным
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Номер карты" с текстом: Поле обязательно для заполнения. Форма не отправлена.

3. *Оплата с невалидным номером карты, ввод 16 цифровых символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" 16 любых цифровых символов, например !)..}{"'//|#@\*^
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: Ожидаемый результат: невозможно ввести символы в поле "Номер карты". Форма не отправлена.

4. *Оплата с невалидным номером карты, ввод кириллических букв:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" 16 букв на кириллице, например РРРНННГГГДДДАААС
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести буквенные символы в поле "Номер карты". Форма не отправлена.

*5.Оплата по карте с невалидным значением месяца, ввод несуществующего значения:*

- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" число 13
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем "Месяц". Форма не отправлена.

6. *Оплата по карте с невалидным значением месяца, ввод одного числового символа:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" числовой символ 5
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем "Месяц". Форма не отправлена.

7. *Оплата по карте с невалидным значением месяца, ввод трех числовых символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" числовой символ 122
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести более 2 символов в поле "Месяц". Форма не отправлена.

8. *Оплата по карте с невалидным значением месяца, поле не заполнено:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Оставить поле "Месяц" незаполненным
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Месяц" с текстом: Поле обязательно для заполнения. Форма не отправлена.

9. *Оплата с невалидным значением месяца, ввод буквенных символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" буквенные символы – мб
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести буквенные символы в поле "Месяц". Форма не отправлена.

10\.*Оплата с невалидным значением месяца, ввод специальных символов:*

- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" одну специальные символы – .!
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести специальный символ в поле "Месяц". Форма не отправлена.

11\.*Оплата по карте с невалидным значением года, ввод одного числового символа:*

- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" одно числовое значение - 2
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем "Год". Форма не отправлена.

12. *Оплата по карте с невалидным значением года, ввод трех числовых символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" три числовых значения - 277
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести в поле "Год" более двух символов. Форма не отправлена

13. *Оплата по карте с истекшим сроком действия:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" - 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" значения с истекшим сроком действия - 98
- Ввести в поле "Владелец" валидное значение (имя владельца на латиницу, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «Год». Форма не отправлена

14. *Оплата по карте с невалидным значением года, поле не заполнено:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" <a name="_hlk161094137"></a>любое число от 01 до 12
- Оставить поле "Год" незаполненным
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Год" с текстом: Поле обязательно для заполнения. Форма не отправлена.

15. *Оплата с невалидным значением года, ввод буквенных символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" буквенные символы – мб
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести буквенный символ в поле "Год". Форма не отправлена.

16. *Оплата с невалидным значением года, ввод специальных символов*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" специальные символы .!
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести специальные символы в поле "Год". Форма не отправлена.

17. *Оплата с невалидным значением года, ввод цифр + пробела между ними*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" две цифры с пробелом между ними
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить пробел в поле "Год". Форма не отправлена.

18. *Оплата по карте с невалидным значением поля «Владелец», поле не заполнено:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Оставить поле «Владелец» незаполненным
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Владелец" с текстом: Поле обязательно для заполнения. Форма не отправлена.

19. *Оплата по карте с невалидным значением поля «Владелец», ввод данных поля кириллицей:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" буквенные символы на кириллице – ИВАН ПЕТРОВ
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «Владелец». Форма не отправлена.

20. *Оплата по карте с невалидным значением поля «Владелец», ввод буквенных символов и цифровых символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" буквенные и цифровые символы – Ivan Petrov4
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке внизу поля «Владелец». Форма не отправлена

21. *Оплата по карте с невалидным значением поля «Владелец», ввод только символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" только символы – !...!...@!/
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке внизу поля «Владелец». Форма не отправлена

22. *Оплата по карте с невалидным значением поля «CVC/CVV», поле не заполнено:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Оставить поле "CVC/CVV" незаполненным
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода " CVC/CVV " с текстом: Поле обязательно для заполнения. Форма не отправлена.

23. *Оплата по карте с невалидным значением поля «CVC/CVV», ввод двух цифровых символа:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" два цифровых символа - 55
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «CVC/CVV». Форма не отправлена.

24. *Оплата по карте с невалидным значением поля «CVC/CVV», ввод четырех цифровых символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" четыре цифровых символа - 5555
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» более трех цифровых символов. Форма не отправлена.

25. *Оплата по карте с невалидным значением поля «CVC/CVV», ввод трех цифровых символов и пробела между ними:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа и проставить пробел между ними 5 55
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» пробел между цифровыми символами. Форма не отправлена.

26. *Оплата по карте с невалидным значением поля «CVC/CVV», ввод буквенных символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" буквенные символы – ннн
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» буквенный символ. Форма не отправлена.

27. *Оплата по карте с невалидным значением поля «CVC/CVV», ввод специальных символов:*
- Нажать кнопку "Купить"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" цифровых символов – ..!
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» специальный символ. Форма не отправлена.

*28. Купить в кредит по карте с невалидным номером, ввод 15 цифровых символов:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" - 4444 4444 4444 444
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «Номер карты». Форма не отправлена.

*29. Купить в кредит с невалидным номером карты, поле не заполнено:*

- Нажать кнопку "Купить в кредит"
- Оставить поле "Номер карты" незаполненным
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Номер карты" с текстом: Поле обязательно для заполнения. Форма не отправлена.

30\.*Купить в кредит с невалидным номером карты, ввод 16 цифровых символов*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" 16 любых цифровых символов, например !)..}{"/.//|#@\*^
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести символ "!" в поле "Номер карты". Форма не отправлена.

31\.*Купить в кредит с невалидным номером карты, ввод буквенных символов:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" 16 буквенных символов, например РРРНННГГГДДДАААС
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести буквенный символ в поле "Номер карты". Форма не отправлена.

*32. Купить в кредит по карте с невалидным значением месяца, ввод несуществующего значения:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" число 13
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем "Месяц". Форма не отправлена.

33\.*Купить в кредит по карте с невалидным значением месяца, ввод одного числового символа:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" числовой символ 5
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем "Месяц". Форма не отправлена.

34. *Купить в кредит по карте с невалидным значением месяца, ввод трех числовых символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" числовой символ 122
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести более 2 символов в поле "Месяц". Форма не отправлена.

35. *Купить в кредит по карте с невалидным значением месяца, поле не заполнено:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Оставить поле "Месяц" незаполненным
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Месяц" с текстом: Поле обязательно для заполнения. Форма не отправлена.

36. *Купить в кредит с невалидным значением месяца, ввод буквенных символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" буквенные символы – мб
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести буквенный символ в поле "Месяц". Форма не отправлена.

37. *Купить в кредит с невалидным значением месяца, ввод специальных символов*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" специальные символы – .!
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести символ "!" в поле "Месяц". Форма не отправлена.

38\.*Купить в кредит по карте с невалидным значением года, ввод одного числового символа:*

- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" одно числовое значение - 2
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем "Год". Форма не отправлена.

39. *Купить в кредит по карте с невалидным значением года, ввод трех числовых символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" три числовых значения - 277
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести в поле "Год" более двух символов. Форма не отправлена

40. *Купить в кредит по карте с истекшим сроком действия:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" - 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" значения с истекшим сроком действия - 98
- Ввести в поле "Владелец" валидное значение (имя владельца на латиницу, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «Год». Форма не отправлена

41. *Купить в кредит по карте с невалидным значением года, поле не заполнено:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Оставить поле "Год" незаполненным
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Год" с текстом: Поле обязательно для заполнения. Форма не отправлена.

42. *Купить в кредит с невалидным значением года, буквенных символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" один цифровой символ и один буквенный символ – мб
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести буквенный символ в поле "Год". Форма не отправлена.

43. *Купить в кредит с невалидным значением года, ввод специальных символов*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" одну цифру и один символ – .!
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно ввести специальные символы в поле "Год". Форма не отправлена.

44. *Купить в кредит с невалидным значением года, ввод цифр + пробела между ними*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" две цифры с пробелом между ними
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить пробел в поле "Год". Форма не отправлена.

45. *Купить в кредит по карте с невалидным значением поля «Владелец», поле не заполнено:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Оставить поле «Владелец» незаполненным
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода "Владелец" с текстом: Поле обязательно для заполнения. Форма не отправлена.

46. *Купить в кредит по карте с невалидным значением поля «Владелец», ввод данных поля кириллицей:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" буквенные символы на кириллице – Иван Петров
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «Владелец». Форма не отправлена.

47. *Купить в кредит по карте с невалидным значением поля «Владелец», ввод буквенных цифровых символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" буквенные и цифровые символы – Ivan Petrov4
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке внизу поля «Владелец». Форма не отправлена

48. *Купить в кредит по карте с невалидным значением поля «Владелец», ввод символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" только символы – !...!...@!/
- Ввести в поле "CVC/CVV" три цифровых символа
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке внизу поля «Владелец». Форма не отправлена

49. *Купить в кредит по карте с невалидным значением поля «CVC/CVV», поле не заполнено:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Оставить поле "CVC/CVV" незаполненным
- Нажать кнопку "Продолжить"

Ожидаемый результат: отображается подсказка под полем ввода " CVC/CVV " с текстом: Поле обязательно для заполнения. Форма не отправлена.

50. *Купить в кредит с невалидным значением поля «CVC/CVV», ввод одного цифрового символа:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" один цифровой символ - 5
- Нажать кнопку "Продолжить"

Ожидаемый результат: уведомление об ошибке под полем «CVC/CVV». Форма не отправлена.

51. *Купить в кредит по карте с невалидным значением поля «CVC/CVV», ввод четырех цифровых символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" четыре цифровых символа - 5555
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» более трех цифровых символов. Форма не отправлена.

52. *Купить в кредит по карте с невалидным значением поля «CVC/CVV», ввод трех цифровых символов и пробела между ними:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" три цифровых символа и проставить пробел между ними 5 55
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» пробел между цифровыми символами. Форма не отправлена.

53. *Купить в кредит по карте с невалидным значением поля «CVC/CVV», ввод буквенных символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" два цифровых символа и один буквенный символ – ннн
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» буквенный символ. Форма не отправлена.

54. *Купить в кредит с невалидным значением поля «CVC/CVV», ввод специальных символов:*
- Нажать кнопку "Купить в кредит"
- Ввести в поле "Номер карты" – 4444 4444 4444 4441
- Ввести в поле "Месяц" любое число от 01 до 12
- Ввести в поле "Год" последние две цифры года
- Ввести в поле "Владелец" валидное значение (имя владельца на латинице, Ivan Petrov)
- Ввести в поле "CVC/CVV" две цифры один символ – ..!
- Нажать кнопку "Продолжить"

Ожидаемый результат: невозможно проставить в поле «CVC/CVV» символ "!". Форма не отправлена.

**2. Перечень используемых инструментов с обоснованием выбора.**

1. **Java 11** – высокоуровневый язык программирования, необходимый для написания автотестов.
1. **IntelliJ IDEA Community Edition 2023.2.2** – профессиональная среда разработки с поддержкой Java, различных фреймворков, плагинами и инструментами, упрощающими работу с кодом.
1. **Git** и **GitHub** – для ведения репозитория по проектам. **Git** очень распространенная система контроля версий, поэтому достаточно хорошо взаимодействует с различными ОС. **GitHub** специализированный веб-сервис с удобным интерфейсом, интегрирован с **Git**.
1. **Postman** – это программа, которая предоставляет вам все необходимые инструменты для тестирования **API**: возможность посылать запросы, писать документацию к **API**, запускать автотесты, составлять иерархию тестов, проводить версионирование и так далее.
1. **Gradle** – система сборки проекта, с помощью которой возможно управление подключёнными зависимостями и генерация отчётов о тестировании.
1. **Selenide** – фреймворк для автоматизированного тестирования веб-страниц и веб-приложений, который позволяет быстро и просто его использовать при написании тестов.
1. **Docker** – это программное обеспечение для разработки, доставки и запуска контейнерных приложений. Он позволяет создавать контейнеры, автоматизировать их запуск и развертывание, управляет жизненным циклом. С помощью **Docker** можно запускать множество контейнеров на одной хост-машине.
1. **Lombok** — это библиотека для языка программирования **Java**, предназначенная для упрощения и улучшения процесса разработки. **Lombok** позволяет с помощью аннотаций автоматически генерировать стандартные методы кода (геттеры, сеттеры, конструкторы и др.), тем самым уменьшая количество шаблонного кода, который разработчик обычно должен был бы написать вручную.
1. **AppVeyor Continuous Integration** – веб-сервис, предназначенный для сборки и тестирования программного обеспечения расположенного на **GitHub**.
1. **Faker** – это библиотека для генерации фальшивых данных (**fake data**) в целях тестирования и разработки. Она позволяет создавать случайные и реалистичные данные, такие как имена, адреса, электронные почты, числа, тексты и т.д.
1. **JUnit 5** - среда модульного тестирования для языка программирования Java.

**3. Перечень и описание возможных рисков при автоматизации.**

- отсутствие документации к сервису
- отсутствие постановки конкретных задач к тестируемому функционалу
- возникновение проблем при запуске контейнеров и SUT
- возникновение проблем с одновременной поддержкой двух СУБД MySql / PostgreSQL
- отклонение от составленного плана тестирования (необходимость добавления новых тестов)

**4. Интервальная оценка с учётом рисков в часах.**

|**Название этапа**|**Время, ч**|
| :- | :- |
|Планирование тестирования|8|
|Подготовка тестового окружения|5|
|Написание и прогоны автотестов|37|
|Подготовка отчетов о проделанной работе|5|
|**Итого:**|**55**|

**5. План сдачи работ.**

|**Название этапа**|**Дата готовности**|
| :- | :- |
|Разработка плана автоматизации тестирования|06\.02.2024|
|Написание автотестов и их отладка|21\.02.2024|
|Формирование отчётных документов по итогам автоматизированного тестирования|26\.02.2024|
|Формирование отчётных документов по итогам автоматизации|01\.03.2024|

1. **Отчёт по итогам тестирования**
## Краткое описание
В соответствии с планом тестирования было произведено автоматизированное тестирование веб-сервиса «Путешествие дня»
Приложение предлагает оплатить тур двумя способами:

- оплата по дебетовой карте
- выдача кредита с указанием банковской карты

В ходе тестирования были реализованы проверки позитивных и негативных сценариев покупки тура путем **оплаты по карте** и **покупки в кредит по данным карты**
## Тест-кейсы
Общее количество автоматизированных сценариев - 69,
из которых:
-35 сценария для сервиса платежей Payment Gate
-34 сценария для сервиса платежей Credit Gate

## **Результаты выполнения автотестов:**

![Screenshot_1](https://github.com/DaniyaKurm/Diplom-3/assets/81091295/28fa6715-2779-4905-9c35-187f052625fa)

![Screenshot_2](https://github.com/DaniyaKurm/Diplom-3/assets/81091295/bbc9e304-b389-440f-943d-17fc91e53c72)

![Screenshot_3](https://github.com/DaniyaKurm/Diplom-3/assets/81091295/12f8f381-8f98-4801-bcc7-efb1f94d3cf2)

![pgt](https://github.com/DaniyaKurm/Diplom-3/assets/81091295/053ab32b-c280-44f0-9402-83e17bc66bd8)

![cgt](https://github.com/DaniyaKurm/Diplom-3/assets/81091295/3cd834f7-f63e-4266-ba44-b6253ef841f4)


1. **Отчет по итогам автоматизации**

*Что было запланировано и что было реализовано*

Запланировано автоматизированное тестирование веб-сервиса покупки тура с использованием позитивных и негативных сценариев. Все запланированные этапы были выполнены.
Автоматизированы 63 тестовых сценария.
Оформлены Issues по обнаруженным дефектам.

*Сработавшие риски:*

- Отсутствие документации к сервису
- Отсутствие постановки задач к тестируемому функционалу приложения
- Затрачено дополнительное время при одновременной поддержке двух СУБД MySql/PostgreSQL

*Общий итог по времени*

В запланированный лимит тестирование было проведено. На работу было запланировано 55 часов. В итоге на выполнение работы затрачено порядка 80 часов.

**Подготовка тестового окружения для запуска автотестов**

**Установить приложения**

1. IntelliJ IDEA Community Edition 2023.2.2
1. Docker Desktop
1. Chromedriver Version: 122.0.6261.95
1. Браузер Google Chrome. Версия 122.0.6261.95 (Официальная сборка), (64 бит)

**Процедура запуска автотестов**

**MySQL**

1. Открыть проект в IntelliJ IDEA
1. Запустить Docker Desktop
1. В терминале IDEA набрать docker compose up --build
1. Ждем запуска контейнеров node-app, mysql, postgres
1. Во втором терминале запустить приложение aqa-shop.jar командой 
   java -jar ./artifacts/aqa-shop.jar -Dspring.datasource.url=jdbc:mysql://localhost:3306/app
1. В отдельном терминале запустить тесты командой
   ./gradlew clean test -DdbUrl=jdbc:mysql://localhost:3306/app
1. Остановить приложение: перейти в терминал, в котором оно запущено, и нажать CTRL + C
1. Остановить контейнеры командой docker compose down

**PostgreSQL**

1. Открыть проект в IntelliJ IDEA
1. Запустить Docker Desktop
1. В терминале IDEA набрать docker compose up --build
1. Ждем запуска контейнеров node-app, mysql, postgres
1. Во втором терминале запустить приложение aqa-shop.jar командой  
   java -jar ./artifacts/aqa-shop.jar -Dspring.datasource.url=jdbc:postgresql://localhost:5432/app
1. В отдельном терминале запустить тесты командой
   ./gradlew clean test -DdbUrl=jdbc:postgresql://localhost:5432/app
1. Остановить приложение: перейти в терминал, в котором оно запущено, и нажать CTRL + C
1. Остановить контейнеры командой docker compose down 
